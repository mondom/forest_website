var burgerBtn=document.querySelector(".header__top-burger-btn"),navMobile=document.querySelector(".nav-mobile"),navMobileCloseBtn=document.querySelector(".nav-mobile__btn-close"),navDesktopLinks=document.querySelectorAll(".nav-desktop__item"),scrollSpySections=document.querySelectorAll(".section"),navMobileItems=document.querySelectorAll(".nav-mobile__item"),activeSectionId="",inputName=document.querySelector(".input-name"),inputMail=document.querySelector(".input-mail"),inputPhone=document.querySelector(".input-phone"),textArea=document.querySelector(".form__box-textarea"),checkbox=document.querySelector(".checkbox-info__input"),formLabels=document.querySelectorAll(".form__box-label"),nameBugText=document.querySelector(".name-bug-text"),mailBugText=document.querySelector(".mail-bug-text"),phoneBugText=document.querySelector(".phone-bug-text"),messageBugText=document.querySelector(".message-bug-text"),checkboxBugText=document.querySelector(".checkbox-info__bug-text"),formButtonClear=document.querySelector(".button__clear"),formButtonSend=document.querySelector(".button__send"),handleScrollSpy=function(){var n,e;document.body.classList.contains("main-page")?(n=[],scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-64&&(n.push(e),e=document.querySelector('.nav-desktop__item[href*="'.concat(n[0].id,'"]')),navDesktopLinks.forEach(function(e){e.classList.remove("active-nav-link")}),e.classList.add("active-nav-link"))})):document.body.classList.contains("contact-page")?(navDesktopLinks.forEach(function(e){e.classList.remove("active-nav-link")}),e=navDesktopLinks.length-1,navDesktopLinks[e].classList.add("active-nav-link")):(document.body.classList.contains("offer-page")||document.body.classList.contains("error-page"))&&navDesktopLinks.forEach(function(e){e.classList.remove("active-nav-link")})};function addUserComments(){var t=document.querySelectorAll(".user-name"),o=document.querySelectorAll(".client-opinion"),e=document.querySelectorAll(".user-pic"),c=[{userName:"Marek",comment:"Najlepsze wakacje w moim życiu...",gender:"man",pic:"./dist/img/marek-pic.jpg"},{userName:"Jola",comment:"Na pewno tu jeszcze wrócimy!",gender:"woman",pic:"./dist/img/jola-pic.jpg"},{userName:"Anna",comment:"Wspaniały wypoczynek na łonie natury",gender:"woman",pic:"./dist/img/anna-pic.jpg"},{userName:"Henryk",comment:"Miła odmiana od zatłoczonych kurortów.",gender:"man",pic:"./dist/img/henryk-pic.jpg"},{userName:"Kamil",comment:"Przygoda życia!!!",gender:"man",pic:"./dist/img/kamil-pic.jpg"},{userName:"Edyta",comment:"Dzieciaki były zachwycone!!",gender:"woman",pic:""}];e.forEach(function(e,n){t[n].textContent=c[n].userName,o[n].textContent=c[n].comment,""===c[n].pic?"woman"===c[n].gender?e.src="./dist/img/user-woman-graphic.jpg":"man"===c[n].gender&&(e.src="./dist/img/user-man-graphic.jpg"):e.src=c[n].pic})}addUserComments();var handleNav=function(){navMobile.classList.toggle("active"),navMobileItems.forEach(function(e){e.addEventListener("click",function(){navMobile.classList.remove("active")})})},clearForm=(navMobileItems.forEach(function(e){e.addEventListener("click",function(e){handleNav()})}),window.onload=function(){for(var e=0;e<navMobileItems.length;e++)navMobileItems[e].addEventListener("click",function(e){e.preventDefault();var n=e.currentTarget.href;setTimeout(function(){window.location.href=n},300)})},function(e){e.preventDefault(),[inputMail,inputName,inputPhone,textArea].forEach(function(e){e.value=""}),[mailBugText,nameBugText,phoneBugText,messageBugText,checkboxBugText].forEach(function(e){e.classList.remove("error-text")}),checkbox.checked=!1}),showError=function(e,n){e=e.nextElementSibling;e.classList.add("error-text"),e.textContent=n},clearError=function(e){e.nextElementSibling.classList.remove("error-text")},checkLength=function(e,n){var t=e.previousElementSibling.textContent.slice(0,-1);0===e.value.length?showError(e,"Musisz wprowadzić ".concat(t.toLowerCase())):e.value.length<n?showError(e,"".concat(t," składa się z conajmniej ").concat(n," znaków.")):clearError(e)},checkPhone=function(e){/(?<!\w)(\(?(\+|00)?48\)?)?[ -]?\d{3}[ -]?\d{3}[ -]?\d{3}(?!\w)/.test(e.value)?clearError(inputPhone):showError(inputPhone,"Numer telefonu jest niepoprawny!")},checkMail=function(e){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(inputMail):showError(inputMail,"Podany mail jest niepoprawny!")},sendForm=function(e){e.preventDefault(),checkLength(inputName,3),checkLength(textArea,10),checkPhone(inputPhone),checkMail(inputMail)};window.addEventListener("scroll",handleScrollSpy),window.addEventListener("DOMContentLoaded",handleScrollSpy),burgerBtn.addEventListener("click",handleNav),navMobileCloseBtn.addEventListener("click",handleNav),formButtonClear.addEventListener("click",clearForm),formButtonSend.addEventListener("click",sendForm);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2TW9iaWxlIiwibmF2TW9iaWxlQ2xvc2VCdG4iLCJuYXZEZXNrdG9wTGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlSXRlbXMiLCJhY3RpdmVTZWN0aW9uSWQiLCJpbnB1dE5hbWUiLCJpbnB1dE1haWwiLCJpbnB1dFBob25lIiwidGV4dEFyZWEiLCJjaGVja2JveCIsImZvcm1MYWJlbHMiLCJuYW1lQnVnVGV4dCIsIm1haWxCdWdUZXh0IiwicGhvbmVCdWdUZXh0IiwibWVzc2FnZUJ1Z1RleHQiLCJjaGVja2JveEJ1Z1RleHQiLCJmb3JtQnV0dG9uQ2xlYXIiLCJmb3JtQnV0dG9uU2VuZCIsImhhbmRsZVNjcm9sbFNweSIsInNlY3Rpb25zIiwibGFzdEluZGV4IiwiYm9keSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic2Nyb2xsU3B5U2VjdGlvbnMiLCJzY3JvbGxZIiwic2VjdGlvbiIsIndpbmRvdyIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsImFjdGl2ZVNlY3Rpb24iLCJsaW5rIiwicmVtb3ZlIiwiY29uY2F0IiwiaWQiLCJmb3JFYWNoIiwiYWRkIiwibGVuZ3RoIiwiY2xpZW50T3BpbmlvbnMiLCJhZGRVc2VyQ29tbWVudHMiLCJ1c2VyTmFtZSIsImNvbW1lbnQiLCJnZW5kZXIiLCJ1c2VycyIsInBpYyIsInVzZXJQaWNzIiwidXNlck5hbWVzIiwidXNlclBpYyIsImluZGV4IiwiaGFuZGxlTmF2IiwidGV4dENvbnRlbnQiLCJ0b2dnbGUiLCJpdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNyYyIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsInNldFRpbWVvdXQiLCJpbmZvIiwiZSIsImlucHV0IiwiaSIsInRhcmdldCIsImhyZWYiLCJidWdUZXh0Iiwic2hvd0Vycm9yIiwiYnVnIiwicmVnZXgiLCJtc2ciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzZW5kRm9ybSIsImNoZWNrTGVuZ3RoIiwiY2hlY2tNYWlsIiwibnVtIiwic2xpY2UiLCJjbGVhckZvcm0iLCJjbGVhckVycm9yIiwiY2hlY2tQaG9uZSIsInRlc3QiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsY0FBYyx5QkFBeUIsRUFDNURDLFVBQVlGLFNBQVNDLGNBQWMsYUFBYSxFQURoREYsa0JBQXFCRSxTQUFBQSxjQUFjLHdCQUEwQixFQUU3REUsZ0JBQW9CSCxTQUFTQyxpQkFBYyxvQkFBQSxFQUUzQ0csa0JBQWtCSixTQUFTSyxpQkFBaUIsVUFBQSxFQUc1Q0MsZUFBaUJOLFNBQVNLLGlCQUFpQixtQkFBb0IsRUFDakVFLGdCQUFrQixHQUNoQkMsVUFBWVIsU0FBU0MsY0FBYyxhQUFjLEVBQ2pEUSxVQUFZVCxTQUFTQyxjQUFjLGFBQWMsRUFDakRTLFdBQWFWLFNBQVNDLGNBQWMsY0FBZSxFQUNuRFUsU0FBV1gsU0FBU0MsY0FBYyxxQkFBc0IsRUFDeERXLFNBQVdaLFNBQVNDLGNBQWMsdUJBQXdCLEVBQzFEWSxXQUFhYixTQUFTSyxpQkFBaUIsa0JBQW1CLEVBQzFEUyxZQUFjZCxTQUFTQyxjQUFjLGdCQUFpQixFQUN0RGMsWUFBY2YsU0FBU0MsY0FBYyxnQkFBaUIsRUFDdERlLGFBQWVoQixTQUFTQyxjQUFjLGlCQUFrQixFQUN4RGdCLGVBQWlCakIsU0FBU0MsY0FBYyxtQkFBb0IsRUFDNURpQixnQkFBa0JsQixTQUFTQyxjQUFjLDBCQUEyQixFQUNwRWtCLGdCQUFrQm5CLFNBQVNDLGNBQWMsZ0JBQWlCLEVBQzFEbUIsZUFBaUJwQixTQUFTQyxjQUFjLGVBQWdCLEVBSXhEb0IsZ0JBQWtCLFdBQ3ZCLElBQ09DLEVBOEJQQyxFQS9CQXZCLFNBQVl3QixLQUFLQyxVQUFVQyxTQUFTLFdBQUMsR0FDOUJKLEVBQVcsR0FFakJLLGtCQUNZQyxRQUFXQyxTQUFBQSxHQUFsQkMsT0FDSFIsU0FBY08sRUFBUUUs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UyxFQUVwQjJELFVBQVUzRCxVQUFTLCtCQUFpQyxDQUV0RCxFQUVNZ0UsU0FBVyxTQUFBWCxHQUNoQkEsRUFBRUosZUFBZSxFQUNqQmdCLFlBQVlsRSxVQUFXLENBQUMsRUFDeEJrRSxZQUFZL0QsU0FBVSxFQUFFLEVBQ3hCcUUsV0FBV3RFLFVBQVUsRUFDckJpRSxVQUFVbEUsU0FBUyxDQUNwQixFQUVBcUIsT0FBTzBCLGlCQUFpQixTQUFVbkMsZUFBZSxFQUNqRFMsT0FBTzBCLGlCQUFpQixtQkFBb0JuQyxlQUFlLEVBQzNEdEIsVUFBVXlELGlCQUFpQixRQUFTSixTQUFTLEVBQzdDakQsa0JBQWtCcUQsaUJBQWlCLFFBQVNKLFNBQVMsRUFDckRqQyxnQkFBZ0JxQyxpQkFBaUIsUUFBU3NCLFNBQVMsRUFDbkQxRCxlQUFlb0MsaUJBQWlCLFFBQVNpQixRQUFRIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3RvcC1idXJnZXItYnRuXCIpXHJcbmNvbnN0IG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LW1vYmlsZVwiKVxyXG5jb25zdCBuYXZNb2JpbGVDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LW1vYmlsZV9fYnRuLWNsb3NlXCIpXHJcblxyXG5jb25zdCBuYXZEZXNrdG9wTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1kZXNrdG9wX19pdGVtXCIpXHJcbmNvbnN0IHNjcm9sbFNweVNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpXHJcblxyXG5jb25zdCBuYXZNb2JpbGVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LW1vYmlsZV9faXRlbVwiKVxyXG5sZXQgYWN0aXZlU2VjdGlvbklkID0gXCJcIlxyXG5jb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0LW5hbWVcIilcclxuY29uc3QgaW5wdXRNYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dC1tYWlsXCIpXHJcbmNvbnN0IGlucHV0UGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0LXBob25lXCIpXHJcbmNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19ib3gtdGV4dGFyZWFcIilcclxuY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrYm94LWluZm9fX2lucHV0XCIpXHJcbmNvbnN0IGZvcm1MYWJlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2JveC1sYWJlbFwiKVxyXG5jb25zdCBuYW1lQnVnVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmFtZS1idWctdGV4dFwiKVxyXG5jb25zdCBtYWlsQnVnVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbC1idWctdGV4dFwiKVxyXG5jb25zdCBwaG9uZUJ1Z1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob25lLWJ1Zy10ZXh0XCIpXHJcbmNvbnN0IG1lc3NhZ2VCdWdUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlLWJ1Zy10ZXh0XCIpXHJcbmNvbnN0IGNoZWNrYm94QnVnVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tib3gtaW5mb19fYnVnLXRleHRcIilcclxuY29uc3QgZm9ybUJ1dHRvbkNsZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fX2NsZWFyXCIpXHJcbmNvbnN0IGZvcm1CdXR0b25TZW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fX3NlbmRcIilcclxuXHJcbi8vIHNjcm9sbHNweVxyXG5cclxuY29uc3QgaGFuZGxlU2Nyb2xsU3B5ID0gKCkgPT4ge1xyXG5cdGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcGFnZVwiKSkge1xyXG5cdFx0Y29uc3Qgc2VjdGlvbnMgPSBbXVxyXG5cclxuXHRcdHNjcm9sbFNweVNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0XHRcdGlmICh3aW5kb3cuc2Nyb2xsWSA8PSBzZWN0aW9uLm9mZnNldFRvcCArIHNlY3Rpb24ub2Zmc2V0SGVpZ2h0IC0gNjQpIHtcclxuXHRcdFx0XHRzZWN0aW9ucy5wdXNoKHNlY3Rpb24pXHJcblxyXG5cdFx0XHRcdGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHRcdFx0YC5uYXYtZGVza3RvcF9faXRlbVtocmVmKj1cIiR7c2VjdGlvbnNbMF0uaWR9XCJdYFxyXG5cdFx0XHRcdClcclxuXHJcblx0XHRcdFx0bmF2RGVza3RvcExpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0XHRcdFx0XHRsaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtbmF2LWxpbmtcIilcclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRhY3RpdmVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtbmF2LWxpbmtcIilcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9IGVsc2UgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGFjdC1wYWdlXCIpKSB7XHJcblx0XHRuYXZEZXNrdG9wTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuXHRcdFx0bGluay5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLW5hdi1saW5rXCIpXHJcblx0XHR9KVxyXG5cdFx0Y29uc3QgbGFzdEluZGV4ID0gbmF2RGVza3RvcExpbmtzLmxlbmd0aCAtIDFcclxuXHRcdG5hdkRlc2t0b3BMaW5rc1tsYXN0SW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtbmF2LWxpbmtcIilcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJvZmZlci1wYWdlXCIpIHx8XHJcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yLXBhZ2VcIilcclxuXHQpIHtcclxuXHRcdG5hdkRlc2t0b3BMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG5cdFx0XHRsaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtbmF2LWxpbmtcIilcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG4vLyBkeW5hbWljIGFkZGl0aW9uIG9mIHVzZXIgZGF0YSB0byB0aGUgY29tbWVudHMgc2VjdGlvblxyXG5cclxuZnVuY3Rpb24gYWRkVXNlckNvbW1lbnRzKCkge1xyXG5cdGNvbnN0IHVzZXJOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudXNlci1uYW1lXCIpXHJcblx0Y29uc3QgY2xpZW50T3BpbmlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsaWVudC1vcGluaW9uXCIpXHJcblx0Y29uc3QgdXNlclBpY3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnVzZXItcGljXCIpXHJcblx0Y29uc3QgdXNlcnMgPSBbXHJcblx0XHR7XHJcblx0XHRcdHVzZXJOYW1lOiBcIk1hcmVrXCIsXHJcblx0XHRcdGNvbW1lbnQ6IFwiTmFqbGVwc3plIHdha2FjamUgdyBtb2ltIMW8eWNpdS4uLlwiLFxyXG5cdFx0XHRnZW5kZXI6IFwibWFuXCIsXHJcblx0XHRcdHBpYzogXCIuL2Rpc3QvaW1nL21hcmVrLXBpYy5qcGdcIixcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdHVzZXJOYW1lOiBcIkpvbGFcIixcclxuXHRcdFx0Y29tbWVudDogXCJOYSBwZXdubyB0dSBqZXN6Y3plIHdyw7NjaW15IVwiLFxyXG5cdFx0XHRnZW5kZXI6IFwid29tYW5cIixcclxuXHRcdFx0cGljOiBcIi4vZGlzdC9pbWcvam9sYS1waWMuanBnXCIsXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHR1c2VyTmFtZTogXCJBbm5hXCIsXHJcblx0XHRcdGNvbW1lbnQ6IFwiV3NwYW5pYcWCeSB3eXBvY3p5bmVrIG5hIMWCb25pZSBuYXR1cnlcIixcclxuXHRcdFx0Z2VuZGVyOiBcIndvbWFuXCIsXHJcblx0XHRcdHBpYzogXCIuL2Rpc3QvaW1nL2FubmEtcGljLmpwZ1wiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0dXNlck5hbWU6IFwiSGVucnlrXCIsXHJcblx0XHRcdGNvbW1lbnQ6IFwiTWnFgmEgb2RtaWFuYSBvZCB6YXTFgm9jem9ueWNoIGt1cm9ydMOzdy5cIixcclxuXHRcdFx0Z2VuZGVyOiBcIm1hblwiLFxyXG5cdFx0XHRwaWM6IFwiLi9kaXN0L2ltZy9oZW5yeWstcGljLmpwZ1wiLFxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0dXNlck5hbWU6IFwiS2FtaWxcIixcclxuXHRcdFx0Y29tbWVudDogXCJQcnp5Z29kYSDFvHljaWEhISFcIixcclxuXHRcdFx0Z2VuZGVyOiBcIm1hblwiLFxyXG5cdFx0XHRwaWM6IFwiLi9kaXN0L2ltZy9rYW1pbC1waWMuanBnXCIsXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHR1c2VyTmFtZTogXCJFZHl0YVwiLFxyXG5cdFx0XHRjb21tZW50OiBcIkR6aWVjaWFraSBiecWCeSB6YWNod3ljb25lISFcIixcclxuXHRcdFx0Z2VuZGVyOiBcIndvbWFuXCIsXHJcblx0XHRcdHBpYzogXCJcIixcclxuXHRcdH0sXHJcblx0XVxyXG5cclxuXHR1c2VyUGljcy5mb3JFYWNoKCh1c2VyUGljLCBpbmRleCkgPT4ge1xyXG5cdFx0dXNlck5hbWVzW2luZGV4XS50ZXh0Q29udGVudCA9IHVzZXJzW2luZGV4XS51c2VyTmFtZVxyXG5cdFx0Y2xpZW50T3BpbmlvbnNbaW5kZXhdLnRleHRDb250ZW50ID0gdXNlcnNbaW5kZXhdLmNvbW1lbnRcclxuXHJcblx0XHRpZiAodXNlcnNbaW5kZXhdLnBpYyA9PT0gXCJcIikge1xyXG5cdFx0XHRpZiAodXNlcnNbaW5kZXhdLmdlbmRlciA9PT0gXCJ3b21hblwiKSB7XHJcblx0XHRcdFx0dXNlclBpYy5zcmMgPSBcIi4vZGlzdC9pbWcvdXNlci13b21hbi1ncmFwaGljLmpwZ1wiXHJcblx0XHRcdH0gZWxzZSBpZiAodXNlcnNbaW5kZXhdLmdlbmRlciA9PT0gXCJtYW5cIikge1xyXG5cdFx0XHRcdHVzZXJQaWMuc3JjID0gXCIuL2Rpc3QvaW1nL3VzZXItbWFuLWdyYXBoaWMuanBnXCJcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dXNlclBpYy5zcmMgPSB1c2Vyc1tpbmRleF0ucGljXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5hZGRVc2VyQ29tbWVudHMoKVxyXG5cclxuLy8gbW9iaWxlIG5hdlxyXG5cclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG5cdG5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcblx0bmF2TW9iaWxlSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0bmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuXHRcdH0pXHJcblx0fSlcclxufVxyXG5cclxubmF2TW9iaWxlSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuXHRcdGhhbmRsZU5hdigpXHJcblx0fSlcclxufSlcclxuXHJcbi8vIHBhZ2UgdHJhbnNpdGlvbiBkZWxheSBvbiBtb2JpbGUgbmF2XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbmF2TW9iaWxlSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGNvbnN0IGl0ZW0gPSBuYXZNb2JpbGVJdGVtc1tpXVxyXG5cclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHJcblx0XHRcdGxldCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQuaHJlZlxyXG5cclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSB0YXJnZXRcclxuXHRcdFx0fSwgMzAwKVxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuXHJcbi8vIGZvcm1cclxuXHJcbmNvbnN0IGNsZWFyRm9ybSA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdGNvbnN0IGlucHV0cyA9IFtpbnB1dE1haWwsIGlucHV0TmFtZSwgaW5wdXRQaG9uZSwgdGV4dEFyZWFdXHJcblx0aW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG5cdFx0aW5wdXQudmFsdWUgPSBcIlwiXHJcblx0fSlcclxuXHJcblx0Y29uc3QgYnVnc1RleHQgPSBbXHJcblx0XHRtYWlsQnVnVGV4dCxcclxuXHRcdG5hbWVCdWdUZXh0LFxyXG5cdFx0cGhvbmVCdWdUZXh0LFxyXG5cdFx0bWVzc2FnZUJ1Z1RleHQsXHJcblx0XHRjaGVja2JveEJ1Z1RleHQsXHJcblx0XVxyXG5cclxuXHRidWdzVGV4dC5mb3JFYWNoKGJ1ZyA9PiB7XHJcblx0XHRidWcuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yLXRleHRcIilcclxuXHR9KVxyXG5cclxuXHRjaGVja2JveC5jaGVja2VkID0gZmFsc2VcclxufVxyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBidWdUZXh0ID0gaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nXHJcblx0YnVnVGV4dC5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItdGV4dFwiKVxyXG5cdGJ1Z1RleHQudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBidWdUZXh0ID0gaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nXHJcblx0YnVnVGV4dC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItdGV4dFwiKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0xlbmd0aCA9IChpbnB1dCwgbnVtKSA9PiB7XHJcblx0Y29uc3QgaW5mbyA9IGlucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQuc2xpY2UoMCwgLTEpXHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0LCBgTXVzaXN6IHdwcm93YWR6acSHICR7aW5mby50b0xvd2VyQ2FzZSgpfWApXHJcblx0fSBlbHNlIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBudW0pIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dCwgYCR7aW5mb30gc2vFgmFkYSBzacSZIHogY29uYWptbmllaiAke251bX0gem5ha8Ozdy5gKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRjbGVhckVycm9yKGlucHV0KVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tQaG9uZSA9IGlucHV0ID0+IHtcclxuXHRjb25zdCByZWdleCA9IC8oPzwhXFx3KShcXCg/KFxcK3wwMCk/NDhcXCk/KT9bIC1dP1xcZHszfVsgLV0/XFxkezN9WyAtXT9cXGR7M30oPyFcXHcpL1xyXG5cclxuXHRpZiAocmVnZXgudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdGNsZWFyRXJyb3IoaW5wdXRQaG9uZSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0Vycm9yKGlucHV0UGhvbmUsIGBOdW1lciB0ZWxlZm9udSBqZXN0IG5pZXBvcHJhd255IWApXHJcblx0fVxyXG59XHJcbmNvbnN0IGNoZWNrTWFpbCA9IGlucHV0ID0+IHtcclxuXHRjb25zdCByZWdleCA9XHJcblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8LihcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvXHJcblxyXG5cdGlmIChyZWdleC50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihpbnB1dE1haWwpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihpbnB1dE1haWwsIGBQb2RhbnkgbWFpbCBqZXN0IG5pZXBvcHJhd255IWApXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzZW5kRm9ybSA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdGNoZWNrTGVuZ3RoKGlucHV0TmFtZSwgMylcclxuXHRjaGVja0xlbmd0aCh0ZXh0QXJlYSwgMTApXHJcblx0Y2hlY2tQaG9uZShpbnB1dFBob25lKVxyXG5cdGNoZWNrTWFpbChpbnB1dE1haWwpXHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbFNweSlcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGhhbmRsZVNjcm9sbFNweSlcclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXYpXHJcbm5hdk1vYmlsZUNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXYpXHJcbmZvcm1CdXR0b25DbGVhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xlYXJGb3JtKVxyXG5mb3JtQnV0dG9uU2VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VuZEZvcm0pXHJcbiJdfQ==
